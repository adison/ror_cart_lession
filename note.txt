
打造漂亮的 ruby 後台 rubyconf 2014

http://tonytonyjan.net/slides/


處理後台容易有路徑問題
透過有實體的admin 可以讓 route 簡化
所以這邊跑 sacffold 時，會加入繼承設定 --parent=Order
rails g scaffold Admin::Product \
  name description:text price:decimal stock:integer \
  --parent=Product
rails g scaffold Admin::Order \
  name address status payment_method \
  --parent=Order


處理權限，簡單的權限可以透過 http 簡易認證處理
http_basic_authenticate_with name: "tony", password: "tony"


postgre 有 json 欄位
ror 支援 postgre json field 偵測? 
	或者說可以不用對 postgre json type field 進行 serialize

SecureRandom.nex(3)產生隨機編號
可以進行檢查避免重複


開始處理




model 的 hook/callback 整個是一個 transaction
其中有一個回傳 false/exception 就會整個 rollback


設定環境變數為 order, 
env CONTROLLER=orders bin/rank route

routes 中, 可以使用 on:collectin 設定 route 對 collection 發生作用

